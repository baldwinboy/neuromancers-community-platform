{% load i18n static wagtailcore_tags wagtailuserbar %}
{% get_current_language as LANGUAGE_CODE %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
    <head>
        <meta charset="utf-8" />
        <title>

            {% block title %}
                {% if page.seo_title %}
                    {{ page.seo_title }}
                {% else %}
                    {{ page.title }}
                {% endif %}
            {% endblock title %}

            {% block title_suffix %}
                {% wagtail_site as current_site %}
                {% if current_site and current_site.site_name %}- {{ current_site.site_name }}{% endif %}
            {% endblock title_suffix %}
        </title>
        {% if page.search_description %}<meta name="description" content="{{ page.search_description }}" />{% endif %}
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        {# Force all links in the live preview panel to be opened in a new tab #}
        {% if request.in_preview_panel %}<base target="_blank">{% endif %}
        {# Favicon #}
        <link rel="shortcut icon"
              type="image/png"
              href="{% static 'images/favicon.png' %}">
        {# Global stylesheets #}
        <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}">

        {% block extra_css %}
            {# Override this in templates to add extra stylesheets #}
        {% endblock extra_css %}
    </head>
    {# djlint:off #}
    <body class="{% block body_class %}{% endblock body_class %}">
    {# djlint:on #}
    {% wagtailuserbar %}

    {% block top_navigation_bar %}

        {% include "includes/header.html" %}
    {% endblock top_navigation_bar %}
    {% if messages %}
        <section class="width-full">
            <h2 class="visually-hidden">{% trans "Messages:" %}</h2>
            <ul class="width-full">
                {% for message in messages %}
                    <li class="base_message width-full bg-lightAccent">
                        <span>{{ message }}</span>
                    </li>
                {% endfor %}
            </ul>
        </section>
    {% endif %}

    {% block content %}
    {% endblock content %}
    {# Global javascript #}
    <script type="text/javascript" src="{% static 'js/core.js' %}"></script>

    {% block extra_js %}
        {# Override this in templates to add extra javascript #}
    {% endblock extra_js %}
</body>
</html>
